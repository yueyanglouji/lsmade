window.IScroll=window.IScroll||{};if(!Function.prototype.extend){Function.prototype.extend=function(b){var a=this;return function(){a.apply(this,arguments);b.apply(this,arguments)}}}window.IScroll.extend=function(a){if(arguments.length<=0){throw new Error("Missing arguments in extend function")}for(key in a){var b=window.IScroll.prototype[key];if(b&&(typeof b=="function")){window.IScroll.prototype[key]=b.extend(a[key])}else{window.IScroll.prototype[key]=a[key]}}};window.IScroll.extend({isShowHeader:true,isProcessHeader:false,startY:0,scTop:-1,scrollStart:function(){this.startY=this.y},scroll:function(){var a=this.y;var b=this.startY-a;if(b>20&&this.y<-200){this._hide()}else{if(this.y>=-100){this._show()}}},scrollEnd:function(){if(this.y>=-100){this._show()}},_hide:function(){if(this.isProcessHeader){return}var b=this.maxScrollY+110;if(this.y<=b){return}this.isProcessHeader=true;if(this.isShowHeader==false){this.isProcessHeader=false;return}this.isShowHeader=false;var a=this;this.scTop=parseInt($(this.wrapper).css("top"));$("header[data-headroom] > div").each(function(){var e=$(this).css("top");$(this).attr("_top_",e);var c=parseInt(e),d=(c-a.scTop);$(this).animate({top:d+"px"},500)});this.wrapper.style.zIndex=500;$(this.wrapper).animate({top:"0px"},500);var a=this;setTimeout(function(){a.refresh();a.isProcessHeader=false},500)},_show:function(){if(this.isProcessHeader){return}this.isProcessHeader=true;if(this.isShowHeader==true){this.isProcessHeader=false;return}var a=this;$("header[data-headroom] > div").each(function(){var b=$(this).attr("_top_");$(this).animate({top:b},500);$(this).removeAttr("_top_")});$(a.wrapper).animate({top:a.scTop+"px"},500);setTimeout(function(){a.wrapper.style.zIndex=1;a.refresh();a.isShowHeader=true;a.isProcessHeader=false},500)},_init:function(){this.on("scrollStart",this.scrollStart);this.on("scroll",this.scroll);this.on("scrollEnd",this.scrollEnd)}});