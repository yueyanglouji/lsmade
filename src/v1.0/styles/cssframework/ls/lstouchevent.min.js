(function(a,c,b){if(typeof define==="function"&&define.amd){define(["jquery"],function(d){b(d,a,c);return d.mobile})}else{b(a.jQuery,a,c)}}(this,document,function(c,b,a,d){(function(i,l,f){var g=i(a);var j=("ontouchstart" in a),n=j?"touchstart":"mousedown",k=j?"touchend":"mouseup",h=j?"touchmove":"mousemove";var m=0;i.each([1,2,3,4,5],function(o,p){i.each({"touchstart_":n,"touchmove_":h,"touchend_":k},function(q,r){i.event.special[q+p]={setup:function(){var s=this,u=i(s);var t=p;u.bind(r,function(w){if(q=="touchend_"){if(m!=0){var v=i.Event(q+m);v.originalEvent=w.originalEvent;m=0;i(w.target).trigger(v)}}else{if(w.originalEvent.touches==null||w.originalEvent.touches.length!=t){return}var v=i.Event(q+t);v.originalEvent=w.originalEvent;if(q=="touchstart_"){if(m!=0){i(w.target).trigger("touchexceptionend_"+m)}m=t;i(w.target).trigger(v)}else{if(m==t){i(w.target).trigger(v)}}}})}}})});i.event.special.swipe={scrollSupressionThreshold:30,durationThreshold:1000,horizontalDistanceThreshold:30,verticalDistanceThreshold:75,start:function(o){var p=o.originalEvent.touches?o.originalEvent.touches[0]:o;return{time:(new Date()).getTime(),coords:[p.clientX,p.clientY],origin:i(o.target)}},stop:function(p,o){var q=p.originalEvent.touches?p.originalEvent.touches[0]:p;return{time:(new Date()).getTime(),coords:[q.clientX,q.clientY]}},handleSwipe:function(p,o){if(o.time-p.time<i.event.special.swipe.durationThreshold&&Math.abs(p.coords[0]-o.coords[0])>i.event.special.swipe.horizontalDistanceThreshold&&Math.abs(p.coords[1]-o.coords[1])<i.event.special.swipe.verticalDistanceThreshold){p.origin.trigger("swipe").trigger(p.coords[0]>o.coords[0]?"swipeleft":"swiperight")}},setup:function(){var o=this,p=i(o);p.bind("touchstart_1",function(r){var t=i.event.special.swipe.start(r),q;function s(u){if(!t){return}q=i.event.special.swipe.stop(u,q);if(Math.abs(t.coords[0]-q.coords[0])>i.event.special.swipe.scrollSupressionThreshold){u.preventDefault()}}p.bind("touchmove_1",s).one("touchend_1",function(){p.unbind("touchmove_1",s);if(t&&q){i.event.special.swipe.handleSwipe(t,q)}t=q=f})})}};i.each({swipeleft:"swipe",swiperight:"swipe"},function(p,o){i.event.special[p]={setup:function(s,r,q){i(this).bind(o,function(){})}}});i.event.special.tip={supressionThreshold:30,durationThreshold:1000,eventInfo:function(o){var p=o.originalEvent.touches[0];return{time:(new Date()).getTime(),coords:[p.clientX,p.clientY],origin:i(o.target)}},handleTip:function(p,o){if(o.time-p.time<i.event.special.tip.durationThreshold&&Math.abs(p.coords[0]-o.coords[0])<i.event.special.tip.supressionThreshold&&Math.abs(p.coords[1]-o.coords[1])<i.event.special.tip.supressionThreshold){p.origin.trigger("tip",{tip:p,})}},setup:function(){var o=this,p=i(o);p.bind("touchstart_1",function(r){var t=i.event.special.tip.eventInfo(r),q;function s(u){if(!t){u.preventDefault();return}q=i.event.special.tip.eventInfo(u,q);if(Math.abs(t.coords[0]-q.coords[0])>i.event.special.tip.supressionThreshold){u.preventDefault()}}p.bind("touchmove_1",s).one("touchend_1",function(){p.unbind("touchmove_1",s);q=i.event.special.tip.eventInfo(r,q);if(t&&q){i.event.special.tip.handleTip(t,q)}t=q=f;r.preventDefault()})})}};i.event.special.swipeOpenClose={eventInfo:function(p){var o=p.originalEvent.touches[0];var q=p.originalEvent.touches[1];return{time:(new Date()).getTime(),coords1:[o.clientX,o.clientY],coords2:[q.clientX,q.clientY],center:[(o.clientX+q.clientX)/2,(o.clientY+q.clientY)/2],origin:i(p.target)}},handleSwipe:function(s,p){var o=[p.center[0]-s.center[0],p.center[1]-s.center[1]];var r=Math.sqrt(Math.pow(p.coords1[1]-p.coords2[1],2)+Math.pow(p.coords1[0]-p.coords2[0],2))/Math.sqrt(Math.pow(s.coords1[1]-s.coords2[1],2)+Math.pow(s.coords1[0]-s.coords2[0],2));var q=Math.atan2(s.coords1[1]-s.coords2[1],s.coords1[0]-s.coords2[0])-Math.atan2(p.coords1[1]-p.coords2[1],p.coords1[0]-p.coords2[0]);s.origin.trigger("swipeOpenClose",{start:s,stop:p,centerMove:o,rate:q,scaling:r})},setup:function(){var o=this,p=i(o);p.bind("touchstart_2",function(r){var t=i.event.special.swipeOpenClose.eventInfo(r),q;function s(u){if(!t){t=i.event.special.swipeOpenClose.eventInfo(u)}q=i.event.special.swipeOpenClose.eventInfo(u,q);i.event.special.swipeOpenClose.handleSwipe(t,q);t=q;u.stopPropagation()}p.bind("touchmove_2",s).one("touchend_2",function(){p.unbind("touchmove_2",s);if(t&&q){i.event.special.swipeOpenClose.handleSwipe(t,q)}t=q=f;r.stopPropagation()})})}};var e="swipeleft swiperight swipe tip swipeOpenClose";i.each([1,2,3,4,5],function(o,p){e+=" touchstart_"+p;e+=" touchmove_"+p;e+=" touchend_"+p;e+=" touchexceptionend_"+p});i.each(e.split(" "),function(p,o){i.fn[o]=function(q){return q?this.bind(o,q):this.trigger(o)};if(i.attrFn){i.attrFn[o]=true}})})(c,this)}));